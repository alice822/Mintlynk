@using MintLynk.Web.Areas.Dashboard.Models
@using System.Text.Json
@model DashboardViewModel
@{
    Layout = "~/Views/Shared/_LayoutDashboard.cshtml";
}
<div style="width:70%;margin-left: auto; margin-right: auto;">
    <div class="flex flex-wrap items-center justify-between gap-2 mb-3">
        <h6 class="font-semibold mb-0 dark:text-white">Your Hub for Powerful Short Links</h6>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-12 gap-6">
        <div class="col-span-12 lg:col-span-6">
            <div class="shadow-7 p-5 rounded-xl bg-white dark:bg-dark-2 h-full">
                <div class="flex items-center flex-wrap gap-2 justify-between">
                    <h6 class="w-full mb-0 font-bold text-lg">Quick Create</h6>
                    <p>Create as many short links as you need — no limits, just possibilities.</p>
                </div>
                <div class="relative mt-3">
                    <form id="frmQuickUrl" class="input-group mb-2 mt-10 position-relative">
                        @Html.AntiForgeryToken()
                        <p class="mb-1">
                            Domain: <strong>mintlynk.com</strong>
                            <span class="icon">
                                <iconify-icon icon="solar:lock-password-outline"></iconify-icon>
                            </span>
                        </p>
                        <div class="alert alert-success text-success-600 mb-5 font-semibold text-lg" role="alert">
                            <p class="font-medium text-success-600 text-xs mt-1">
                                We’re working on custom domain and back-half! <br />These features will be released in an upcoming version.
                            </p>
                        </div>
                        <label class="w-full mb-1 flex">Enter your destination URL</label>
                        <input id="longUrl" autocomplete="off" type="text" class="py-3 form-control email rounded-start-3 border-end-0 border-blue" style="width:60%;" name="longUrl" placeholder="Enter your destination URL">
                        <button class="btn btn-primary" type="submit">Get a short link</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-span-12 lg:col-span-6">
            <div class="shadow-7 p-5 rounded-xl bg-white dark:bg-dark-2 z-[1] gradient-bg-chart relative h-full">
                <div class="grid grid-cols-1 sm:grid-cols-12 gap-6">
                    <div class="col-span-12 sm:col-span-6 3xl:col-span-4">
                        <div class="rounded-xl overflow-hidden p-5 relative z-[1] bg-gradient-custom-1">
                            <img src="/dashboard/images/homeThirteen/shape/moon-shape-border.png" alt="Shape" class="absolute start-0 bottom-0 mb-2.5 -z-[1]">
                            <span class="block text-white mb-6">All time</span>
                            <div class="flex items-center justify-between gap-3">
                                <h5 class="text-white">@Model.Reports.TotalEngagement</h5>
                                <span class="opacity-25">
                                    <img src="/dashboard/images/homeThirteen/icon/task-summary-icon1.svg" alt="Icon" class="">
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-span-12 sm:col-span-6 3xl:col-span-4">
                        <div class="rounded-xl overflow-hidden p-5 relative z-[1] bg-gradient-custom-1">
                            <img src="/dashboard/images/homeThirteen/shape/moon-shape-border.png" alt="Shape" class="absolute start-0 bottom-0 mb-2.5 -z-[1]">
                            <span class="block text-white mb-6">Last Week</span>
                            <div class="flex items-center justify-between gap-3">
                                <h5 class="text-white">@Model.Reports.LastWeekEngageent</h5>
                                <span class="opacity-25">
                                    <img src="/dashboard/images/homeThirteen/icon/task-summary-icon1.svg" alt="Icon" class="">
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-span-12 sm:col-span-6 3xl:col-span-4">
                        <div class="rounded-xl overflow-hidden p-5 relative z-[1] bg-gradient-custom-2">
                            <img src="/dashboard/images/homeThirteen/shape/moon-shape-border.png" alt="Shape" class="absolute start-0 bottom-0 mb-2.5 -z-[1]">
                            <span class="block text-white mb-6">This Week</span>
                            <div class="flex items-center justify-between gap-3">
                                <h5 class="text-white">@Model.Reports.ThisWeekEngageent</h5>
                                <span class="opacity-25">
                                    <img src="/dashboard/images/homeThirteen/icon/task-summary-icon2.svg" alt="Icon" class="">
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-5 flex items-center justify-between gap-4 flex-wrap">
                    <div class="">
                        <span class="text-neutral-600">Weekly growth Rate</span>
                        <div class="flex items-center gap-3 mt-2">
                            <h5 class="mb-0">
                                @Model.Reports.WeeklyGrowthRate.ToString("0.##")%
                            </h5>
                            <div class="flex items-center gap-1 @(Model.Reports.WeeklyGrowthRate >= 0 ? "text-success-600" : "text-danger-600") font-semibold">
                                <span class="line-height-1 flex">
                                    <i class="@(Model.Reports.WeeklyGrowthRate >= 0 ? "ri-arrow-right-up-line" : "ri-arrow-right-down-line")"></i>
                                </span>
                                <span>
                                    @(Model.Reports.WeeklyGrowthRate >= 0 ? "+" : "")@Model.Reports.WeeklyGrowthRate.ToString("0.##")%
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="">
                        <div id="enrollmentChart" class="apexcharts-tooltip-style-1" style="min-height: 101px;">
                            <div id="apexchartsrg5653wu" class="apexcharts-canvas apexchartsrg5653wu apexcharts-theme-light" style="width: 466px; height: 86px;">
                                <svg id="SvgjsSvg1418" width="466" height="86" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev" class="apexcharts-svg apexcharts-zoomable" xmlns:data="ApexChartsNS" transform="translate(0, 0)" style="background: transparent;">
                                    <foreignObject x="0" y="0" width="466" height="86"><div class="apexcharts-legend" xmlns="http://www.w3.org/1999/xhtml" style="max-height: 43px;"></div></foreignObject>
                                    <rect id="SvgjsRect1422" width="0" height="0" x="0" y="0" rx="0" ry="0" opacity="1" stroke-width="0" stroke="none" stroke-dasharray="0" fill="#fefefe"></rect>
                                    <g id="SvgjsG1467" class="apexcharts-yaxis" rel="0" transform="translate(-8, 0)"><g id="SvgjsG1468" class="apexcharts-yaxis-texts-g"></g></g>
                                    <g id="SvgjsG1420" class="apexcharts-inner apexcharts-graphical" transform="translate(22, 30)"><defs id="SvgjsDefs1419"><clipPath id="gridRectMaskrg5653wu">
                                        <rect id="SvgjsRect1424" width="441" height="44" x="-3.5" y="-1.5" rx="0" ry="0" opacity="1" stroke-width="0" stroke="none" stroke-dasharray="0" fill="#fff"></rect></clipPath>
                                        <clipPath id="forecastMaskrg5653wu"></clipPath><clipPath id="nonForecastMaskrg5653wu"></clipPath>
                                        <clipPath id="gridRectMarkerMaskrg5653wu">
                                            <rect id="SvgjsRect1425" width="438" height="45" x="-2" y="-2" rx="0" ry="0" opacity="1" stroke-width="0" stroke="none" stroke-dasharray="0" fill="#fff"></rect></clipPath></defs>
                                            <line id="SvgjsLine1423" x1="0" y1="0" x2="0" y2="41" stroke="#b6b6b6" stroke-dasharray="3" stroke-linecap="butt" class="apexcharts-xcrosshairs" x="0" y="0" width="1" height="41" fill="#b1b9c4" filter="none" fill-opacity="0.9" stroke-width="1"></line>
                                            <line id="SvgjsLine1436" x1="0" y1="42" x2="0" y2="48" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-xaxis-tick"></line>
                                            <line id="SvgjsLine1437" x1="54.25" y1="42" x2="54.25" y2="48" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-xaxis-tick"></line>
                                            <line id="SvgjsLine1438" x1="108.5" y1="42" x2="108.5" y2="48" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-xaxis-tick"></line>
                                            <line id="SvgjsLine1439" x1="162.75" y1="42" x2="162.75" y2="48" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-xaxis-tick"></line>
                                            <line id="SvgjsLine1440" x1="217" y1="42" x2="217" y2="48" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-xaxis-tick"></line>
                                            <line id="SvgjsLine1441" x1="271.25" y1="42" x2="271.25" y2="48" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-xaxis-tick"></line>
                                            <line id="SvgjsLine1442" x1="325.5" y1="42" x2="325.5" y2="48" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-xaxis-tick"></line>
                                            <line id="SvgjsLine1443" x1="379.75" y1="42" x2="379.75" y2="48" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-xaxis-tick"></line>
                                            <line id="SvgjsLine1444" x1="434" y1="42" x2="434" y2="48" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-xaxis-tick"></line>
                                            <g id="SvgjsG1432" class="apexcharts-grid"><g id="SvgjsG1433" class="apexcharts-gridlines-horizontal" style="display: none;">
                                                <line id="SvgjsLine1445" x1="0" y1="0" x2="434" y2="0" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-gridline"></line>
                                                <line id="SvgjsLine1446" x1="0" y1="8.2" x2="434" y2="8.2" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-gridline"></line>
                                                <line id="SvgjsLine1447" x1="0" y1="16.4" x2="434" y2="16.4" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-gridline"></line>
                                                <line id="SvgjsLine1448" x1="0" y1="24.599999999999998" x2="434" y2="24.599999999999998" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-gridline"></line>
                                                <line id="SvgjsLine1449" x1="0" y1="32.8" x2="434" y2="32.8" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-gridline"></line>
                                                <line id="SvgjsLine1450" x1="0" y1="41" x2="434" y2="41" stroke="#e0e0e0" stroke-dasharray="0" stroke-linecap="butt" class="apexcharts-gridline"></line></g>
                                                <g id="SvgjsG1434" class="apexcharts-gridlines-vertical" style="display: none;"></g>
                                                <line id="SvgjsLine1452" x1="0" y1="41" x2="434" y2="41" stroke="transparent" stroke-dasharray="0" stroke-linecap="butt"></line><line id="SvgjsLine1451" x1="0" y1="1" x2="0" y2="41" stroke="transparent" stroke-dasharray="0" stroke-linecap="butt"></line></g><g id="SvgjsG1426" class="apexcharts-area-series apexcharts-plot-series"><g id="SvgjsG1427" class="apexcharts-series" seriesName="series1" data:longestSeries="true" rel="1" data:realIndex="0"><path id="SvgjsPath1430" d="M 0 41 L 0 17.571428571428584C 18.987499999999997 17.571428571428584 35.2625 32.80000000000001 54.25 32.80000000000001C 73.2375 32.80000000000001 89.5125 9.37142857142858 108.5 9.37142857142858C 127.4875 9.37142857142858 143.7625 36.314285714285724 162.75 36.314285714285724C 181.7375 36.314285714285724 198.0125 17.571428571428584 217 17.571428571428584C 235.9875 17.571428571428584 252.2625 38.657142857142865 271.25 38.657142857142865C 290.2375 38.657142857142865 306.5125 9.37142857142858 325.5 9.37142857142858C 344.4875 9.37142857142858 360.7625 15.228571428571442 379.75 15.228571428571442C 398.7375 15.228571428571442 415.0125 7.028571428571439 434 7.028571428571439C 434 7.028571428571439 434 7.028571428571439 434 41M 434 7.028571428571439z" fill="rgba(0,143,251,0)" fill-opacity="1" stroke-opacity="1" stroke-linecap="butt" stroke-width="0" stroke-dasharray="0" class="apexcharts-area" index="0" clip-path="url(#gridRectMaskrg5653wu)" pathTo="M 0 41 L 0 17.571428571428584C 18.987499999999997 17.571428571428584 35.2625 32.80000000000001 54.25 32.80000000000001C 73.2375 32.80000000000001 89.5125 9.37142857142858 108.5 9.37142857142858C 127.4875 9.37142857142858 143.7625 36.314285714285724 162.75 36.314285714285724C 181.7375 36.314285714285724 198.0125 17.571428571428584 217 17.571428571428584C 235.9875 17.571428571428584 252.2625 38.657142857142865 271.25 38.657142857142865C 290.2375 38.657142857142865 306.5125 9.37142857142858 325.5 9.37142857142858C 344.4875 9.37142857142858 360.7625 15.228571428571442 379.75 15.228571428571442C 398.7375 15.228571428571442 415.0125 7.028571428571439 434 7.028571428571439C 434 7.028571428571439 434 7.028571428571439 434 41M 434 7.028571428571439z" pathFrom="M -1 73.80000000000001 L -1 73.80000000000001 L 54.25 73.80000000000001 L 108.5 73.80000000000001 L 162.75 73.80000000000001 L 217 73.80000000000001 L 271.25 73.80000000000001 L 325.5 73.80000000000001 L 379.75 73.80000000000001 L 434 73.80000000000001"></path><path id="SvgjsPath1431" d="M 0 17.571428571428584C 18.987499999999997 17.571428571428584 35.2625 32.80000000000001 54.25 32.80000000000001C 73.2375 32.80000000000001 89.5125 9.37142857142858 108.5 9.37142857142858C 127.4875 9.37142857142858 143.7625 36.314285714285724 162.75 36.314285714285724C 181.7375 36.314285714285724 198.0125 17.571428571428584 217 17.571428571428584C 235.9875 17.571428571428584 252.2625 38.657142857142865 271.25 38.657142857142865C 290.2375 38.657142857142865 306.5125 9.37142857142858 325.5 9.37142857142858C 344.4875 9.37142857142858 360.7625 15.228571428571442 379.75 15.228571428571442C 398.7375 15.228571428571442 415.0125 7.028571428571439 434 7.028571428571439" fill="none" fill-opacity="1" stroke="#487fff" stroke-opacity="1" stroke-linecap="butt" stroke-width="3" stroke-dasharray="0" class="apexcharts-area" index="0" clip-path="url(#gridRectMaskrg5653wu)" pathTo="M 0 17.571428571428584C 18.987499999999997 17.571428571428584 35.2625 32.80000000000001 54.25 32.80000000000001C 73.2375 32.80000000000001 89.5125 9.37142857142858 108.5 9.37142857142858C 127.4875 9.37142857142858 143.7625 36.314285714285724 162.75 36.314285714285724C 181.7375 36.314285714285724 198.0125 17.571428571428584 217 17.571428571428584C 235.9875 17.571428571428584 252.2625 38.657142857142865 271.25 38.657142857142865C 290.2375 38.657142857142865 306.5125 9.37142857142858 325.5 9.37142857142858C 344.4875 9.37142857142858 360.7625 15.228571428571442 379.75 15.228571428571442C 398.7375 15.228571428571442 415.0125 7.028571428571439 434 7.028571428571439" pathFrom="M -1 73.80000000000001 L -1 73.80000000000001 L 54.25 73.80000000000001 L 108.5 73.80000000000001 L 162.75 73.80000000000001 L 217 73.80000000000001 L 271.25 73.80000000000001 L 325.5 73.80000000000001 L 379.75 73.80000000000001 L 434 73.80000000000001" fill-rule="evenodd"></path><g id="SvgjsG1428" class="apexcharts-series-markers-wrap apexcharts-hidden-element-shown" data:realIndex="0"><g class="apexcharts-series-markers"><circle id="SvgjsCircle1472" r="0" cx="0" cy="0" class="apexcharts-marker w0rnfeyy1 no-pointer-events" stroke="#ffffff" fill="#487fff" fill-opacity="1" stroke-width="3" stroke-opacity="0.9" default-marker-size="0"></circle></g></g></g><g id="SvgjsG1429" class="apexcharts-datalabels" data:realIndex="0"></g></g><g id="SvgjsG1435" class="apexcharts-grid-borders" style="display: none;"></g><line id="SvgjsLine1453" x1="0" y1="0" x2="434" y2="0" stroke="#b6b6b6" stroke-dasharray="0" stroke-width="1" stroke-linecap="butt" class="apexcharts-ycrosshairs"></line><line id="SvgjsLine1454" x1="0" y1="0" x2="434" y2="0" stroke-dasharray="0" stroke-width="0" stroke-linecap="butt" class="apexcharts-ycrosshairs-hidden"></line><g id="SvgjsG1455" class="apexcharts-xaxis" transform="translate(0, 0)"><g id="SvgjsG1456" class="apexcharts-xaxis-texts-g" transform="translate(0, -4)"></g><line id="SvgjsLine1466" x1="0" y1="42" x2="434" y2="42" stroke="#e0e0e0" stroke-dasharray="0" stroke-width="1" stroke-linecap="butt"></line></g><g id="SvgjsG1469" class="apexcharts-yaxis-annotations"></g><g id="SvgjsG1470" class="apexcharts-xaxis-annotations"></g><g id="SvgjsG1471" class="apexcharts-point-annotations"></g><rect id="SvgjsRect1473" width="0" height="0" x="0" y="0" rx="0" ry="0" opacity="1" stroke-width="0" stroke="none" stroke-dasharray="0" fill="#fefefe" class="apexcharts-zoom-rect"></rect><rect id="SvgjsRect1474" width="0" height="0" x="0" y="0" rx="0" ry="0" opacity="1" stroke-width="0" stroke="none" stroke-dasharray="0" fill="#fefefe" class="apexcharts-selection-rect"></rect></g></svg><div class="apexcharts-tooltip apexcharts-theme-light"><div class="apexcharts-tooltip-title" style="font-family: Helvetica, Arial, sans-serif; font-size: 12px;"></div><div class="apexcharts-tooltip-series-group" style="order: 1;"><span class="apexcharts-tooltip-marker" style="background-color: rgb(0, 143, 251);"></span><div class="apexcharts-tooltip-text" style="font-family: Helvetica, Arial, sans-serif; font-size: 12px;"><div class="apexcharts-tooltip-y-group"><span class="apexcharts-tooltip-text-y-label"></span><span class="apexcharts-tooltip-text-y-value"></span></div><div class="apexcharts-tooltip-goals-group"><span class="apexcharts-tooltip-text-goals-label"></span><span class="apexcharts-tooltip-text-goals-value"></span></div><div class="apexcharts-tooltip-z-group"><span class="apexcharts-tooltip-text-z-label"></span><span class="apexcharts-tooltip-text-z-value"></span></div></div></div></div><div class="apexcharts-yaxistooltip apexcharts-yaxistooltip-0 apexcharts-yaxistooltip-left apexcharts-theme-light"><div class="apexcharts-yaxistooltip-text"></div></div></div></div>
                    </div>

                </div>

            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 xl:grid-cols-12 gap-6 mt-6">
        <div class="xl:col-span-12 2xl:col-span-6">
            <div class="card h-full rounded-lg border-0">
                <div class="card-body">
                    <div class="flex flex-wrap items-center justify-between">
                        <h6 class="text-lg mb-0">Sales Statistic</h6>
                    </div>
                    <div id="weeklychart" class="pt-[28px] apexcharts-tooltip-style-1"></div>
                </div>
            </div>
        </div>
        <div class="xl:col-span-6 2xl:col-span-3">
            <div class="card h-full rounded-lg border-0">
                <div class="card-body p-6">

                    <div class="flex items-center gap-2 mb-5" style="float:left;">
                        <h6 class="mb-3 font-semibold text-lg" style="float:left;">Need Help?</h6><br />
                        <h6 class="font-semibold text-sm mb-0" style="float:left;">Go to help center</h6>
                    </div>
                    <iconify-icon icon="mdi:help-circle-outline" class="text-primary-600" style="font-size: 6rem;float:right;"></iconify-icon>
                </div>
            </div>
        </div>
        <div class="xl:col-span-6 2xl:col-span-3">
            <div class="card h-full rounded-lg border-0 overflow-hidden">
                <div class="card-body p-6">
                    <div class="flex items-center flex-wrap gap-2 justify-between">
                        <h6 class="mb-2 font-bold text-lg">Click & scan overview</h6>
                    </div>
                    <ul class="flex flex-wrap items-center justify-between mt-4 gap-3">
                        <li class="flex items-center gap-2">
                            <span class="w-3 h-3 rounded-sm bg-primary-600"></span>
                            <span class="text-secondary-light text-sm font-normal">
                                Link Clicks:
                                <span class="text-neutral-600 dark:text-neutral-200 font-semibold">@Model.Reports.TotalLinkClick</span>
                            </span>
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-3 h-3 rounded-sm bg-warning-600"></span>
                            <span class="text-secondary-light text-sm font-normal">
                                QR Scans:
                                <span class="text-neutral-600 dark:text-neutral-200 font-semibold">@Model.Reports.TotalQrScan</span>
                            </span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="xl:col-span-12 2xl:col-span-8">
            <div class="card h-full border-0">
                <div class="card-body p-6">
                    <span class="font-semibold text-gray-700 text-sm">Engagements over time</span>
                    <div id="columnChart" style="width:100%;"></div>
                </div>
            </div>
        </div>
        <div class="xl:col-span-6 2xl:col-span-4">
            <div class="card h-full border-0">
                <div class="card-body">
                    <div class="flex items-center flex-wrap gap-2 justify-between">
                        <h6 class="font-bold text-lg mb-0">Top short links</h6>
                        <a href="/app/dashboard/analytics" class="text-primary-600 dark:text-primary-600 hover-text-primary flex items-center gap-1">
                            View All
                            <iconify-icon icon="solar:alt-arrow-right-linear" class="icon"></iconify-icon>
                        </a>
                    </div>

                    <div class="mt-8">
                        @foreach (var link in Model.TopLinks)
                        {
                            <div class="flex items-center justify-between gap-2 mb-6">
                                <div class="flex items-center gap-3">
                                    <img src="@link.FavIconUrl" alt="" class="w-10 h-10 rounded-full shrink-0 overflow-hidden">
                                    <div class="grow">
                                        <h6 class="text-base mb-0 font-medium">
                                            <a href="/app/dashboard/short-links/@(link.EntityId)/detail" target="_blank" class="hover:underline">
                                                @(string.IsNullOrEmpty(link.Title) ? link.ShortUrl?.Replace("https://", "").Replace("http://", "") : link.Title)
                                            </a>
                                        </h6>
                                        <span class="text-sm text-secondary-light font-medium">
                                            <a href="@link.ShortUrl" target="_blank">
                                                @link.ShortUrl
                                            </a>
                                        </span>
                                    </div>
                                </div>
                                <span class="text-neutral-600 dark:text-neutral-200 text-base font-medium">@link.TotalEngagement</span>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    @{
        var dateLabels = Model.Reports.DateReport.Select(x => x.Date).ToList();
        var qrScanData = Model.Reports.DateReport.Select(x => x.QrScan).ToList();
        var linkClickData = Model.Reports.DateReport.Select(x => x.LinkClick).ToList();

        var sevenDaysLabels = Model.Reports.SevenDaysReport.Select(x => x.Date).ToList();
        var sevenDaysData = Model.Reports.SevenDaysReport.Select(x => x.Count).ToList();
        var sevenDaysQrData = Model.Reports.SevenDaysReport.Select(x => x.QrScan).ToList();
        var sevenDaysClickData = Model.Reports.SevenDaysReport.Select(x => x.LinkClick).ToList();
    }
    <script>
                $('#frmQuickUrl').on('submit', function (e) {
            e.preventDefault();
            var longUrl = $('#longUrl').val();
            var $submitBtn = $(this).find('button[type="submit"]');
            // Add spinner if not present
            if ($submitBtn.find('.spinner-border').length === 0) {
                $submitBtn.prepend('<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true" style="display:none"></span>');
            }
            var $spinner = $submitBtn.find('.spinner-border');
            // Disable button and show spinner
            $submitBtn.prop('disabled', true);
            $spinner.show();

            // Check if longUrl is null, empty, or whitespace
            if (!longUrl || $.trim(longUrl) === "") {
                Swal.fire({
                    icon: 'warning',
                    title: 'Missing URL',
                    text: 'Please enter a valid long URL.',
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 2000,
                    toast: true
                });
                $submitBtn.prop('disabled', false);
                $spinner.hide();
                return;
            }

            var token = $('input[name="__RequestVerificationToken"]').val();

            $.ajax({
                url: '/Home/GenerateShortUrl',
                type: 'POST',
                data: { originalUrl: longUrl },
                headers: { 'RequestVerificationToken': token },
                success: function (response) {
                    if (response.responseType === "Success") {
                        var html = '<div class="alert alert-success text-success-600 mb-5 font-semibold text-lg" role="alert"><p class="font-medium text-success-600 text-xs mt-1">'
                            + 'Your short link is ready! Copy it or download the QR code to share instantly.</p>'
                            + '</div><input type="text" id="shortUrlDisplay" value="' + response.jsonContent + '" class="form-control" readonly style="width:auto;display:inline-block;">'
                            + '<button id="copyShortUrlBtn" class="btn btn-primary ms-2" type="button">Copy</button>'
                            + '<div><img src="' + response.qrCodeImage + '" alt="QR Code" style="max-width:150px;" /></div>';
                        $('#frmQuickUrl').html(html);
                        Swal.fire({
                            icon: 'success',
                            title: 'Short URL Created',
                            text: response.responseMessage,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 5000,
                            toast: true
                        });
                    } else {
                        // Show error message from response
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: response.responseMessage,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 5000,
                            toast: true
                        });
                        $submitBtn.prop('disabled', false);
                        $spinner.hide();
                    }
                },
                error: function () {
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: 'Unable to generate short URL. Please try again.',
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 5000,
                        toast: true
                    });
                    $submitBtn.prop('disabled', false);
                    $spinner.hide();
                }
            });
        });

                // Delegate event for dynamically created button
        $(document).on('click', '#copyShortUrlBtn', function () {
            var shortUrl = $('#shortUrlDisplay').val();
            navigator.clipboard.writeText(shortUrl).then(function () {
                Swal.fire({
                    icon: 'success',
                    title: 'Copied!',
                    text: 'Short URL copied to clipboard!',
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 5000,
                    toast: true
                });
            });
        });

           document.addEventListener('DOMContentLoaded', function () {
                 var colors = [
                     '#FF9F29', '#487FFF', '#E4F1FF', '#00C49A', '#FF6384', '#FFD700', '#36A2EB', '#FFCE56',
                     '#8E44AD', '#2ECC71', '#E67E22', '#F44336', '#34495E', '#00B8D9', '#FF6F61', '#B2BABB',
                     '#6C3483', '#1ABC9C', '#D35400', '#7F8C8D'
                 ];

               document.querySelectorAll('.copy-btn').forEach(function(btn) {
                       btn.addEventListener('click', function() {
                           var url = btn.getAttribute('data-url');
                           if (!url) return;
                           navigator.clipboard.writeText(url).then(function() {
                               Swal.fire({
                                   icon: 'success',
                                   title: 'Copied!',
                                   text: 'Short URL copied to clipboard.',
                                   timer: 3000,
                                   showConfirmButton: false,
                                   position: 'top-end',
                                   toast: true
                               });
                           });
                       });
                   });


                   // Column Chart for DateReport
                   var columnOptions = {
                       chart: {
                           type: 'bar',
                           height: 300,
                           width: '100%',
                           toolbar: { show: false }
                       },
                       plotOptions: {
                           bar: {
                               borderRadius: 4,
                               horizontal: false,
                               columnWidth: '50%'
                           }
                       },
                       dataLabels: { enabled: false },
                       xaxis: {
                           categories: @Html.Raw(JsonSerializer.Serialize(dateLabels)),
                           labels: {
                           rotate: -45, // Tilt the text -45 degrees
                           style: {
                               fontSize: '10px'
                           }
                       }
                       },
                       yaxis: {
                           title: { text: 'Engagements' }
                       },
                       series: [
                           {
                               name: 'QR Scans',
                               data: @JsonSerializer.Serialize(qrScanData)
                           },
                           {
                               name: 'Link Clicks',
                               data: @JsonSerializer.Serialize(linkClickData)
                           }
                       ],
                       colors: ['#726E6D', '#2B60DE'],
                       tooltip: {
                           y: { formatter: function(val) { return val + " engagements"; } }
                       }
                   };
                   new ApexCharts(document.querySelector("#columnChart"), columnOptions).render();

                       var weeklySplineOptions = {
            chart: {
                type: 'line',
                height: 180,
                toolbar: { show: false }
            },
            stroke: {
                curve: 'smooth',
                width: 4
            },
            markers: {
                size: 5,
                strokeWidth: 2,
                hover: { size: 7 }
            },
            xaxis: {
                categories: @Html.Raw(JsonSerializer.Serialize(sevenDaysLabels)),
                labels: { style: { fontSize: '13px' } }
            },
            yaxis: {
                min: 0,
                title: { text: 'Engagements' }
            },
            series: [
                {
                    name: 'Total',
                    data: @Html.Raw(JsonSerializer.Serialize(sevenDaysData))
                },
                {
                    name: 'QR Scans',
                    data: @Html.Raw(JsonSerializer.Serialize(sevenDaysQrData))
                },
                {
                    name: 'Link Clicks',
                    data: @Html.Raw(JsonSerializer.Serialize(sevenDaysClickData))
                }
            ],
            colors: ['#487FFF', '#FF9F29', '#2B60DE'],
            tooltip: {
                y: { formatter: function(val) { return val + " engagements"; } }
            },
            grid: {
                borderColor: '#e0e6ed',
                row: { colors: ['#f3f6fa', 'transparent'], opacity: 0.5 }
            }
        };
        new ApexCharts(document.querySelector("#weeklychart"), weeklySplineOptions).render();
             });
    </script>
}